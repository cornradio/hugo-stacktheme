<!doctype html><html lang=zh-cn dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content="自学 linux 命令"><meta name=keywords content=","><title>自学 linux 命令</title><link rel=canonical href=https://b.cornradio.org/p/%E8%87%AA%E5%AD%A6-linux-%E5%91%BD%E4%BB%A4/><link rel=stylesheet href=/scss/style.min.c4076f8b14226d5e742ff58db65b0a1f9aea382871ff11dd3cb87f3713cdcb6d.css><meta property='og:title' content="自学 linux 命令"><meta property='og:description' content="自学 linux 命令"><meta property='og:url' content='https://b.cornradio.org/p/%E8%87%AA%E5%AD%A6-linux-%E5%91%BD%E4%BB%A4/'><meta property='og:site_name' content><meta property='og:type' content='article'><meta property='article:section' content='Post'><meta property='article:tag' content='ubuntu'><meta property='article:tag' content='命令行'><meta property='article:published_time' content='2022-08-18T00:00:00+00:00'><meta property='article:modified_time' content='2022-08-18T00:00:00+00:00'><meta name=twitter:title content="自学 linux 命令"><meta name=twitter:description content="自学 linux 命令"><link rel="shortcut icon" href=/favicon.png></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label=切换菜单>
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/img/avatar_hu_89f5b33c0fdcdd82.png width=300 height=300 class=site-logo loading=lazy alt=Avatar></a></figure><div class=site-meta><h1 class=site-name><a href=/></a></h1><h2 class=site-description>本站使用imgur图床，需要科学上网方可查看图片</h2></div></header><ol class=menu-social><li><a href=https://appstore.cornradio.org/ target=_blank title=AppStore rel=me><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-shopping-bag"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M6.331 8H17.67a2 2 0 011.977 2.304l-1.255 8.152A3 3 0 0115.426 21H8.574a3 3 0 01-2.965-2.544l-1.255-8.152A2 2 0 016.331 8z"/><path d="M9 11V6a3 3 0 016 0v5"/></svg></a></li><li><a href=/clock target=_blank title="online clock" rel=me><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-clock-hour-4"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M12 12m-9 0a9 9 0 1018 0A9 9 0 103 12"/><path d="M12 12l3 2"/><path d="M12 7v5"/></svg></a></li><li><a href=/index.xml target=_blank title=rss rel=me><svg class="icon icon-tabler icon-tabler-rss" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="5" cy="19" r="1"/><path d="M4 4a16 16 0 0116 16"/><path d="M4 11a9 9 0 019 9"/></svg></a></li><li><a href=http://139.196.171.60/watchTV/a-plan/ target=_blank title="watchtv 139" rel=me><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-screen-share"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M21 12v3a1 1 0 01-1 1H4a1 1 0 01-1-1V5a1 1 0 011-1h9"/><path d="M7 20h10"/><path d="M9 16v4"/><path d="M15 16v4"/><path d="M17 4h4v4"/><path d="M16 9l5-5"/></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/><svg class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg>
<span>Home</span></a></li><li><a href=/archives/><svg class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg>
<span>Archives</span></a></li><li><a href=/search/><svg class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>
<span>Search</span></a></li><li><a href=/friends-links/><svg class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M10 14a3.5 3.5.0 005 0l4-4a3.5 3.5.0 00-5-5l-.5.5"/><path d="M14 10a3.5 3.5.0 00-5 0l-4 4a3.5 3.5.0 005 5l.5-.5"/></svg>
<span>Friends Links</span></a></li><li class=menu-bottom-section><ol class=menu><li id=dark-mode-toggle><svg class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>暗色模式</span></li></ol></li></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">目录</h2><div class=widget--toc><nav id=TableOfContents><ol><li><a href=#控制台常用快捷键>控制台常用快捷键</a></li><li><a href=#一次性创建多个文件>一次性创建多个文件</a></li><li><a href=#常用通配符>常用通配符</a></li></ol><ol><li><a href=#配置主机名称>配置主机名称</a></li></ol><ol><li><a href=#在目录间移动>在目录间移动</a></li><li><a href=#创建文件和目录>创建文件和目录</a></li><li><a href=#复制文件目录>复制文件/目录</a></li><li><a href=#删除文件>删除文件</a></li><li><a href=#移动和重命名>移动和重命名</a></li><li><a href=#linux文件目录结构>linux文件目录结构</a></li></ol><ol><li><a href=#变量>变量</a></li><li><a href=#环境变量>环境变量</a></li><li><a href=#修改已有变量>修改已有变量</a></li><li><a href=#搜索文件>搜索文件</a></li><li><a href=#man-命令中常用按键以及用途>man 命令中常用按键以及用途</a></li></ol><ol><li><a href=#ps-aux命令>ps aux命令</a></li><li><a href=#ifconfig-命令>ifconfig 命令</a></li><li><a href=#uptime-命令>uptime 命令</a></li><li><a href=#uname--a>uname -a</a></li><li><a href=#free--h>free -h</a></li><li><a href=#last-命令>last 命令</a></li><li><a href=#history>history</a></li></ol><ol><li><a href=#pwd-命令>pwd 命令</a></li><li><a href=#cd-命令>cd 命令</a></li><li><a href=#ls>ls</a></li></ol><ol><li><a href=#cat-命令>cat 命令</a></li><li><a href=#more-命令>more 命令</a></li><li><a href=#head-和-tail>head 和 tail</a></li><li><a href=#wc-命令>wc 命令</a></li><li><a href=#压缩>压缩</a></li><li><a href=#搜索>搜索</a></li><li><a href=#别名>别名</a></li><li><a href=#变量和全局>变量和全局</a></li></ol><ol><li><a href=#vim-中常用的命令>Vim 中常用的命令</a></li><li><a href=#末行模式中可用的命令>末行模式中可用的命令</a></li></ol></nav></div></section></aside><main class="main full-width"><article class=main-article><header class=article-header><div class=article-details><div class=article-title-wrapper><h2 class=article-title><a href=/p/%E8%87%AA%E5%AD%A6-linux-%E5%91%BD%E4%BB%A4/>自学 linux 命令</a></h2><h3 class=article-subtitle>自学 linux 命令</h3></div><footer class=article-time><div><svg class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published datetime=2022-08-18T00:00:00Z>Aug 18, 2022</time></div><div><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>阅读时长: 4 分钟</time></div></footer></div></header><section class=article-content><p><a class=link href=https://www.linuxprobe.com/training target=_blank rel=noopener>官方培训课程</a></p><h2 id=控制台常用快捷键>控制台常用快捷键</h2><div class=table-wrapper><table><thead><tr><th>按键</th><th>作用</th></tr></thead><tbody><tr><td>Ctrl+d</td><td>键盘输入结束或退出终端</td></tr><tr><td>Ctrl+s</td><td>暂停当前程序，暂停后按下任意键恢复运行</td></tr><tr><td>Ctrl+z</td><td>将当前程序放到后台运行，恢复到前台为命令fg</td></tr><tr><td>Ctrl+a</td><td>将光标移至输入行头，相当于Home键</td></tr><tr><td>Ctrl+e</td><td>将光标移至输入行末，相当于End键</td></tr><tr><td>Ctrl+k</td><td>删除从光标所在位置到行末</td></tr><tr><td>Alt+Backspace</td><td>向前删除一个单词</td></tr><tr><td>Shift+PgUp</td><td>将终端显示向上滚动</td></tr><tr><td>Shift+PgDn</td><td>将终端显示向下滚动</td></tr></tbody></table></div><h2 id=一次性创建多个文件>一次性创建多个文件</h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>#实际上是一个简单的shell loop
</span></span><span class=line><span class=cl>$ touch love_{1..10}_shiyanlou.txt
</span></span></code></pre></div><h2 id=常用通配符>常用通配符</h2><div class=table-wrapper><table><thead><tr><th>字符</th><th>含义</th></tr></thead><tbody></tbody></table></div><ul><li>|匹配 0 或多个字符
? | 匹配任意一个字符
[list] | 匹配 list 中的任意单一字符
[^list] | 匹配 除 list 中的任意单一字符以外的字符
[c1-c2] | 匹配 c1-c2 中的任意单一字符 如：[0-9][a-z]
{string1,string2,&mldr;} | 匹配 string1 或 string2 (或更多)其一字符串
{c1..c2} | 匹配 c1-c2 中全部字符 如{1..10}</li></ul><h1 id=用户管理>用户管理</h1><p>创建用户(默认会让输入密码)</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>sudo adduser &lt;USERNAME&gt;
</span></span></code></pre></div><p>修改密码</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>sudo passwd &lt;USERNAME&gt;
</span></span></code></pre></div><p>切换用户</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>su &lt;USERNAME&gt;
</span></span></code></pre></div><p>查看当前用户是谁</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>whoami
</span></span></code></pre></div><p>查看用户组</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>cat /etc/group | grep -E &#34;&lt;USERNAME&gt;&#34;
</span></span></code></pre></div><p>给新建的用户sudo权限(第二条是centos里面的情况。)</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>usermod -G sudo &lt;USERNAME&gt;
</span></span><span class=line><span class=cl>usermod -aG wheel &lt;USERNAME&gt; 
</span></span></code></pre></div><p>删除用户(把它创建时自动创建的用户目录一并删除)</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>sudo deluser lilei --remove-home
</span></span></code></pre></div><p><strong>adduser 和 useradd 的区别是什么</strong></p><blockquote><p>答：useradd 只创建用户，不会创建用户密码和工作目录，创建完了需要使用 passwd <username>去设置新用户的密码。adduser 在创建用户的同时，会创建工作目录和密码（提示你设置），做这一系列的操作。其实 useradd、userdel 这类操作更像是一种命令，执行完了就返回。而 adduser 更像是一种程序，需要你输入、确定等一系列操作
查看所有登录的用户（都有谁，都在哪里登录）</p></blockquote><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>who
</span></span></code></pre></div><h1 id=常用东西>常用东西</h1><h2 id=配置主机名称>配置主机名称</h2><p><code>4.1.2 配置主机名称</code></p><ol><li>使用 Vim 编辑器修改“/etc/hostname”主机名称文件。</li><li>把原始主机名称删除后追加你想要起的名字。注意，使用 Vim 编辑器修改主机名称文件后，要在末行模式下执行:wq!命令才能保存并退出文档。</li><li>保存并退出文档，然后使用 hostname 命令检查是否修改成功。</li></ol><blockquote><p>不好用的时候试着重新启动</p></blockquote><h1 id=文件管理>文件管理</h1><p><img src=https://doc.shiyanlou.com/linux_base/3-10.png/wm loading=lazy alt=图像权限>
这个图是在使用<code>ls -l</code>时候前部的意义。</p><p>chmod 修改权限。每一个数字代表对应权限</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>rwx|r-x|r-x
</span></span><span class=line><span class=cl>111|101|101 = 755
</span></span></code></pre></div><p>chown 修改所有者</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>chown &lt;usrname&gt; &lt;filename&gt;
</span></span></code></pre></div><h2 id=在目录间移动>在目录间移动</h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl><span class=c1>#去tmp目录</span>
</span></span><span class=line><span class=cl><span class=nb>cd</span> /tmp
</span></span><span class=line><span class=cl><span class=c1>#去上一层目录</span>
</span></span><span class=line><span class=cl><span class=nb>cd</span> ..
</span></span><span class=line><span class=cl><span class=c1>#去当前用户的home（无参数cd）</span>
</span></span><span class=line><span class=cl><span class=nb>cd</span> 
</span></span></code></pre></div><h2 id=创建文件和目录>创建文件和目录</h2><p>touch 可以创建文件/更新文件时间戳。
mkdir 可以创建目录
mkdir -p 可以创建多级目录</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl> mkdir -p father/son/grandson
</span></span></code></pre></div><h2 id=复制文件目录>复制文件/目录</h2><p>复制文件</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>cp &lt;文件&gt; &lt;目的地&gt;
</span></span></code></pre></div><p>复制目录</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>cp &lt;要复制的目录&gt; &lt;目的地&gt;
</span></span></code></pre></div><h2 id=删除文件>删除文件</h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>rm &lt;文件&gt;
</span></span><span class=line><span class=cl>rm -r &lt;目录&gt;
</span></span><span class=line><span class=cl>rm -f &lt;文件&gt; (包括有写保护的文件)
</span></span><span class=line><span class=cl>rm -rf &lt;任何东西&gt;
</span></span></code></pre></div><h2 id=移动和重命名>移动和重命名</h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>mv &lt;原文件&gt; &lt;新位置&gt;
</span></span><span class=line><span class=cl>mv &lt;原文件名&gt; &lt;新文件名字&gt;
</span></span></code></pre></div><p>批量重命名</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>rename &lt;&#39;正则&#39;&gt; &lt;通配符&gt;
</span></span></code></pre></div><h2 id=linux文件目录结构>linux文件目录结构</h2><p><img src=https://doc.shiyanlou.com/linux_base/4-1.png/wm loading=lazy alt=目录结构></p><h1 id=shell-script>shell script</h1><h2 id=变量>变量</h2><p>声明变量</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>declare tmp
</span></span></code></pre></div><p>直接用=赋值同时也可以新建变量,注意不要在等号左右使用空格</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>tmp=helloyou
</span></span></code></pre></div><p>拿出变量tmp</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>echo $tmp
</span></span></code></pre></div><p>删除变量tmp</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>unset tmp
</span></span></code></pre></div><h2 id=环境变量>环境变量</h2><p>暂时设置一个环境变量</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=n>tmp</span><span class=o>=</span><span class=n>helloyuoman</span>
</span></span><span class=line><span class=cl><span class=k>export</span> <span class=n>tmp</span>
</span></span></code></pre></div><p>永久设置一个环境变量</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>/etc/bashrc         shell变量（有的 Linux 没有这个文件） 
</span></span><span class=line><span class=cl>/etc/profile        环境变量
</span></span><span class=line><span class=cl>/home/usr/.profile  用户变量
</span></span></code></pre></div><p>shiyanlou的环境用的是zsh命令行，在根目录有一个<code>.zshrc</code>文件是初始化配置文件。
可以使用这句来把 /home/shiyanlou/mybin 添加到path中</p><blockquote><p>注意,这里是用的 &#187; 它意味"追加" , > 是覆盖的意思</p></blockquote><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>$ echo &#34;PATH=$PATH:/home/shiyanlou/mybin&#34; &gt;&gt; .zshrc
</span></span></code></pre></div><p>直接刷新环境变量(无需开新的zsh)<strong>两种等效</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>source .zshrc
</span></span><span class=line><span class=cl>. .zshrc
</span></span></code></pre></div><h2 id=修改已有变量>修改已有变量</h2><div class=table-wrapper><table><thead><tr><th>变量设置方式</th><th>说明</th></tr></thead><tbody><tr><td>${变量名#匹配字串}</td><td>从头向后开始匹配，删除符合匹配字串的最短数据</td></tr><tr><td>${变量名##匹配字串}</td><td>从头向后开始匹配，删除符合匹配字串的最长数据</td></tr><tr><td>${变量名%匹配字串}</td><td>从尾向前开始匹配，删除符合匹配字串的最短数据</td></tr><tr><td>${变量名%%匹配字串}</td><td>从尾向前开始匹配，删除符合匹配字串的最长数据</td></tr><tr><td>${变量名/旧的字串/新的字串}</td><td>将符合旧字串的第一个字串替换为新的字串</td></tr><tr><td>${变量名//旧的字串/新的字串}</td><td>将符合旧字串的全部字串替换为新的字串</td></tr></tbody></table></div><h2 id=搜索文件>搜索文件</h2><p>whereis 简单快速</p><blockquote><p>whereis 只能搜索二进制文件(-b)，man 帮助文件(-m)和源代码文件(-s)。如果想要获得更全面的搜索结果可以使用 locate 命令。</p></blockquote><p>locate快而全 使用要先安装,并且更新索引数据库</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>sudo apt-get update
</span></span><span class=line><span class=cl>sudo apt-get install locate
</span></span><span class=line><span class=cl>sudo updatedb
</span></span></code></pre></div><p>find 超强大</p><blockquote><p>寻找/etc中(包括子目录)名为的 sources.list文件</p></blockquote><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>find /etc -name sources.list
</span></span></code></pre></div><h2 id=man-命令中常用按键以及用途>man 命令中常用按键以及用途</h2><div class=table-wrapper><table><thead><tr><th>按键</th><th>用途</th></tr></thead><tbody><tr><td>空格键</td><td>向下翻一页</td></tr><tr><td>/</td><td>从上至下搜索某个关键词，如“/linux”</td></tr><tr><td>?</td><td>从下至上搜索某个关键词，如“?linux”</td></tr><tr><td>n</td><td>定位到下一个搜索到的关键词</td></tr><tr><td>N</td><td>定位到上一个搜索到的关键词</td></tr></tbody></table></div><h1 id=系统状态>系统状态</h1><h2 id=ps-aux命令>ps aux命令</h2><div class=table-wrapper><table><thead><tr><th>状态值</th><th>意义</th></tr></thead><tbody><tr><td>R（运行）</td><td>进程正在运行或在运行队列中等待。</td></tr><tr><td>S（中断）</td><td>进程处于休眠中，当某个条件形成后或者接收到信号时，则脱离该状态。</td></tr><tr><td>D（不可中断）</td><td>进程不响应系统异步信号，即便用 kill 命令也不能将其中断。</td></tr><tr><td>Z（僵死）</td><td>进程已经终止，但进程描述符依然存在, 直到父进程调用 wait4()系统函数后将进程释放。</td></tr><tr><td>T（停止）</td><td>进程收到停止信号后停止运行。</td></tr></tbody></table></div><p>如果我们在系统终端中执行一个命令后想立即停止它，可以同时按下 <code>Ctrl + C</code> 组合
键（生产环境中比较常用的一个快捷键），这样将立即终止该命令的进程。或者，如果
有些命令在执行时不断地在屏幕上输出信息，影响到后续命令的输入，则可以在执
行命令时在末尾添加上一个 <code>&</code> 符号，这样命令将进入系统后台来执行。</p><h2 id=ifconfig-命令>ifconfig 命令</h2><p>ifconfig 命令用于获取网卡配置与网络状态等信息，格式为“ifconfig [网络设备] [参数]”。使用 ifconfig 命令来查看本机当前的网卡配置与网络状态等信息时，其实主要查看的就是网卡名称、inet 参数后面的 IP 地址、ether 参数后面的网卡物理地址（又称为 MAC 地址）</p><h2 id=uptime-命令>uptime 命令</h2><p>uptime 用于查看系统的负载信息，格式为 uptime。</p><p>uptime 命令真的很棒，它可以显示当前系统时间、系统已运行时间、启用终端数量以及平均负载值等信息。平均负载值指的是系统在最近 1 分钟、5 分钟、15 分钟内的压力情况（下面加粗的信息部分）；负载值越低越好，尽量不要长期超过 1，在生产环境中不要
超过 5。</p><h2 id=uname--a>uname -a</h2><p>查看计算机的系统类型</p><h2 id=free--h>free -h</h2><p>查看内存</p><h2 id=last-命令>last 命令</h2><p>last 命令用于查看所有系统的登录记录，格式为“last [参数]”。</p><h2 id=history>history</h2><p>查看历史命令记录。
<code>history -c</code> 清空记录</p><h1 id=切换目录>切换目录</h1><h2 id=pwd-命令>pwd 命令</h2><p>pwd 命令用于显示用户当前所处的工作目录，格式为“pwd [选项]”。</p><h2 id=cd-命令>cd 命令</h2><div class=table-wrapper><table><thead><tr><th>cd</th><th>命令用于切换工作路径，格式为“cd [目录名称]”。</th></tr></thead><tbody><tr><td><code>cd -</code></td><td>命令返回到上一次所处的目录</td></tr><tr><td><code>cd ..</code></td><td>命令进入上级目录</td></tr><tr><td><code>cd</code></td><td>命令切换到当前用户的家目录</td></tr><tr><td><code>cd ~username</code></td><td>切换到其他用户的家目录。</td></tr></tbody></table></div><h2 id=ls>ls</h2><div class=table-wrapper><table><thead><tr><th>命令</th><th>~</th></tr></thead><tbody><tr><td>ls -a</td><td>查看隐藏文件</td></tr><tr><td>ls -l</td><td>查看文件详细信息</td></tr><tr><td>ls -la</td><td>查看隐藏文件以及显示详细</td></tr></tbody></table></div><h1 id=查看文件>查看文件</h1><h2 id=cat-命令>cat 命令</h2><p>用来查看比较小的文本文件</p><p><code>cat -n</code> 查看文本内容时还想顺便显示行号
<code>tac</code> 可以倒序输出文件.</p><h2 id=more-命令>more 命令</h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>more &lt;文件名&gt;
</span></span></code></pre></div><p>more更加适合阅读长文件</p><p>可以使用</p><ul><li><kbd>enter</kbd> 向下一行</li><li><kbd>space</kbd> 向下一屏</li></ul><blockquote><p>Less 比more强多了</p></blockquote><h2 id=head-和-tail>head 和 tail</h2><p>默认查看文件头部/尾部的10行。参数 -n 可以控制行数。</p><p>tail可以使用 -f 查看最新一行.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>head -n 1 &lt;文件名&gt;
</span></span><span class=line><span class=cl>tail -f &lt;文件名&gt;
</span></span></code></pre></div><h2 id=wc-命令>wc 命令</h2><p>wc 命令用于统计指定文本的行数、字数、字节数，格式为“wc [参数] 文本”。</p><p><code>file</code> 命令来查看文件类型</p><h2 id=压缩>压缩</h2><p><code>tar -czvf 压缩包名称.tar.gz 要打包的目录</code></p><ul><li>打包-压缩-显示废话-选择目录</li></ul><p>x：解包</p><p>c：打包</p><h2 id=搜索>搜索</h2><p><code>grep</code> 命令用于在文本中执行关键词搜索，并显示匹配的结果，通常和别的命令结合使用，如cat、ps等</p><div class=table-wrapper><table><thead><tr><th>~</th><th>~</th></tr></thead><tbody><tr><td>-b</td><td>将可执行文件（binary）当作文本文件（text）来搜索</td></tr><tr><td>-c</td><td>仅显示找到的行数</td></tr><tr><td>-i</td><td>忽略大小写</td></tr><tr><td>-n</td><td>显示行号</td></tr><tr><td>-v</td><td>反向选择 — 仅列出没有“关键词”的行</td></tr></tbody></table></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>root@iZ2ze1hf17j9hv44rdpmaaZ:~# grep -n Jan you
</span></span><span class=line><span class=cl>2:-rw-r--r-- 1 root root   17 Jan 12  2000 kasusa
</span></span><span class=line><span class=cl>3:drwxr-xr-x 2 root root 4096 Jan 30 10:15 mydir
</span></span><span class=line><span class=cl>4:drwxr-xr-x 2 root root 4096 Jan 30 10:16 mydir2
</span></span><span class=line><span class=cl>5:drwxr-xr-x 2 root root 4096 Jan 30 11:47 ooo
</span></span><span class=line><span class=cl>6:-rw-r--r-- 1 root root    0 Jan 30 11:51 you 
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl># you是一个文件。用显示行号的模式在you里面寻找 Jan 关键字 。在控制台里面会有高亮显示
</span></span></code></pre></div><h2 id=别名>别名</h2><p>可以用 <code>alias</code> 命令来创建一个属于自己的命令别名，格式为“<code>alias 别名=命令</code>”。</p><p>若要取消一个命令别名，则是用 unalias 命令，格式为“unalias 别名”。</p><p>可以写入.bashrc文件，或者是.zshrc文件，取决于你用的是啥shell，然后就可以永久用这些别名了。</p><p>下面是一个我在macos上面使用的例子：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=c1>#显示有颜色的用户（不适合白色背景）</span>
</span></span><span class=line><span class=cl><span class=k>export</span> <span class=n>PS1</span><span class=o>=</span><span class=s2>&#34;</span><span class=si>%10F</span><span class=s2>%m</span><span class=si>%f</span><span class=s2>:</span><span class=si>%11F</span><span class=s2>%1~</span><span class=si>%f</span><span class=s2> \$ &#34;</span>
</span></span><span class=line><span class=cl><span class=c1>#online</span>
</span></span><span class=line><span class=cl><span class=n>alias</span> <span class=n>f</span><span class=o>=</span><span class=s2>&#34;top -l 1 | head -n 10 | grep PhysMem&#34;</span> <span class=c1># 查看可用内存</span>
</span></span><span class=line><span class=cl><span class=n>alias</span> <span class=n>p</span><span class=o>=</span><span class=s2>&#34;sudo purge&#34;</span> <span class=c1># 整理释放内存</span>
</span></span><span class=line><span class=cl><span class=n>alias</span> <span class=n>v</span><span class=o>=</span><span class=s2>&#34;export http_proxy=http://127.0.0.1:7890;export https_proxy=http://127.0.0.1:7890&#34;</span> <span class=c1># 终端设置翻墙</span>
</span></span><span class=line><span class=cl><span class=n>alias</span> <span class=n>nv</span><span class=o>=</span><span class=s2>&#34;unset http_proxy; unset https_proxy;&#34;</span> <span class=c1># 终端设置不翻墙</span>
</span></span><span class=line><span class=cl><span class=n>alias</span> <span class=n>ip</span><span class=o>=</span><span class=s2>&#34;curl cip.cc&#34;</span> <span class=c1># 查看ip和是否翻墙</span>
</span></span><span class=line><span class=cl><span class=n>alias</span> <span class=n>py</span><span class=o>=</span><span class=n>python3</span>
</span></span></code></pre></div><h2 id=变量和全局>变量和全局</h2><p>一般来说，变量都是用大写的。</p><div class=table-wrapper><table><thead><tr><th>有一些</th><th>常用的全局变量：</th></tr></thead><tbody><tr><td>HOME</td><td>用户的主目录（即家目录）</td></tr><tr><td>SHELL</td><td>用户在使用的 Shell 解释器名称</td></tr><tr><td>HISTSIZE</td><td>输出的历史命令记录条数</td></tr><tr><td>HISTFILESIZE</td><td>保存的历史命令记录条数</td></tr><tr><td>MAIL</td><td>邮件保存路径</td></tr><tr><td>LANG</td><td>系统语言、语系名称</td></tr><tr><td>RANDOM</td><td>生成一个随机数字</td></tr><tr><td>PS1 Bash</td><td>解释器的提示符</td></tr><tr><td>PATH</td><td>定义解释器搜索用户执行命令的路径</td></tr><tr><td>EDITOR</td><td>用户默认的文本编辑器</td></tr></tbody></table></div><p>自己创建一个变量/读取它：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>root@iZ2ze1hf17j9hv44rdpmaaZ:~# MYVAR=&#34;hello&#34;
</span></span><span class=line><span class=cl>root@iZ2ze1hf17j9hv44rdpmaaZ:~# echo &#34;$MYVAR&#34;
</span></span><span class=line><span class=cl>hello
</span></span></code></pre></div><p>提升位全局变量：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=n>root</span><span class=err>@</span><span class=n>iZ2ze1hf17j9hv44rdpmaaZ</span><span class=p>:</span><span class=o>~</span><span class=c1># export MYVAR</span>
</span></span></code></pre></div><h1 id=vim>VIM</h1><h2 id=vim-中常用的命令>Vim 中常用的命令</h2><div class=table-wrapper><table><thead><tr><th>命令</th><th>作用</th></tr></thead><tbody><tr><td>dd</td><td>删除（剪切）光标所在整行</td></tr><tr><td>5dd</td><td>删除（剪切）从光标处开始的 5 行</td></tr><tr><td>yy</td><td>复制光标所在整行</td></tr><tr><td>5yy</td><td>复制从光标处开始的 5 行</td></tr><tr><td>n</td><td>显示搜索命令定位到的下一个字符串</td></tr><tr><td>N</td><td>显示搜索命令定位到的上一个字符串</td></tr><tr><td>u</td><td>撤销上一步的操作</td></tr><tr><td>p</td><td>将之前删除（dd）或复制（yy）过的数据粘贴到光标后面</td></tr></tbody></table></div><h2 id=末行模式中可用的命令>末行模式中可用的命令</h2><p><strong>要想切换到末行模式，在命令模式中输入一个冒号就可以了。</strong>
末行模式主要用于保存或退出文件，以及设置 Vim 编辑器的工作环境，还可以让用户执
行外部的 Linux 命令或跳转到所编写文档的特定行数。</p><div class=table-wrapper><table><thead><tr><th>命令</th><th>作用</th></tr></thead><tbody><tr><td>:w</td><td>保存</td></tr><tr><td>:q</td><td>退出</td></tr><tr><td>:q!</td><td>强制退出（放弃对文档的修改内容）</td></tr><tr><td>:wq!</td><td>强制保存退出</td></tr><tr><td>:set</td><td>nu 显示行号</td></tr><tr><td>:set</td><td>nonu 不显示行号</td></tr><tr><td>:命令</td><td>执行该命令</td></tr><tr><td>:整数</td><td>跳转到该行</td></tr><tr><td>:s/one/two</td><td>将当前光标所在行的第一个 one 替换成 two</td></tr><tr><td>:s/one/two/g</td><td>将当前光标所在行的所有 one 替换成 two</td></tr><tr><td>:%s/one/two/g</td><td>将全文中的所有 one 替换成 two</td></tr><tr><td>?字符串</td><td>在文本中从下至上搜索该字符串</td></tr><tr><td>/字符串</td><td>在文本中从上至下搜索该字符串</td></tr></tbody></table></div><h1 id=append>append</h1><p>查看命令的来源：type</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>kasusadeMacBook-Pro:~ $ type who
</span></span><span class=line><span class=cl>who is /usr/bin/who
</span></span><span class=line><span class=cl>kasusadeMacBook-Pro:~ $ type cd
</span></span><span class=line><span class=cl>cd is a shell builtin
</span></span></code></pre></div><p>输入输出导向：</p><p>其中输出分成 普通输出、错误输出</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>any <span class=nb>command</span> &lt; infile
</span></span><span class=line><span class=cl>any <span class=nb>command</span> &gt; outfile <span class=c1>#Create/overwrite outfile </span>
</span></span><span class=line><span class=cl>any <span class=nb>command</span> &gt;&gt; outfile <span class=c1>#Append to outfile</span>
</span></span><span class=line><span class=cl>any <span class=nb>command</span> 2&gt; errorfile
</span></span><span class=line><span class=cl><span class=c1>#普通输出、错误输出 同时输出到两个文件</span>
</span></span><span class=line><span class=cl>any <span class=nb>command</span> &gt; outfile 2&gt; errorfile 
</span></span><span class=line><span class=cl><span class=c1>#普通输出、错误输出合并输出到1个文件</span>
</span></span><span class=line><span class=cl>any <span class=nb>command</span> &gt;<span class=p>&amp;</span> outfile
</span></span><span class=line><span class=cl>any <span class=nb>command</span> <span class=p>&amp;</span>&gt; outfile
</span></span></code></pre></div><p>一行执行多个命令</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl># 直接按顺序执行
</span></span><span class=line><span class=cl>command1 ; command2 ; command3
</span></span><span class=line><span class=cl># 按顺序执行但是如果遇到错误会停止
</span></span><span class=line><span class=cl>command1 &amp;&amp; command2 &amp;&amp; command3
</span></span><span class=line><span class=cl># 按顺序执行但是如果遇到成功的直接退出
</span></span><span class=line><span class=cl>command1 || command2 || command3
</span></span></code></pre></div><p>引号</p><blockquote><p>一般来说空格作为分隔符，如果输入中要带空格需要用单or双引号把它扩起来</p></blockquote><ul><li>单引号：原样输出</li><li>双引号：可以在其中加入变量等</li><li>反引号（tilda）：反引号之中的字符串会作为变量来执行</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=err>→</span> <span class=n>echo</span> <span class=s1>&#39;The variable HOME has value $HOME&#39;</span> 
</span></span><span class=line><span class=cl><span class=n>The</span> <span class=n>variable</span> <span class=n>HOME</span> <span class=n>has</span> <span class=n>value</span> <span class=o>$</span><span class=n>HOME</span>
</span></span><span class=line><span class=cl><span class=err>→</span> <span class=n>echo</span> <span class=s2>&#34;The variable HOME has value $HOME&#34;</span> 
</span></span><span class=line><span class=cl><span class=n>The</span> <span class=n>variable</span> <span class=n>HOME</span> <span class=n>has</span> <span class=n>value</span> <span class=o>/</span><span class=n>home</span><span class=o>/</span><span class=n>smith</span>
</span></span><span class=line><span class=cl><span class=err>→</span> <span class=n>echo</span> <span class=n>This</span> <span class=n>year</span> <span class=n>is</span> <span class=err>`</span><span class=n>date</span> <span class=o>+%</span><span class=n>Y</span><span class=err>`</span> 
</span></span><span class=line><span class=cl><span class=n>This</span> <span class=n>year</span> <span class=n>is</span> <span class=mi>2021</span>
</span></span><span class=line><span class=cl><span class=err>→</span> <span class=n>echo</span> <span class=n>hello</span> <span class=err>`</span><span class=n>expr</span> <span class=o>$</span><span class=p>(</span><span class=n>date</span> <span class=o>+%</span><span class=n>Y</span><span class=p>)</span> <span class=o>+</span> <span class=mi>1</span><span class=err>`</span> <span class=c1># expr可以用来做运算，但是要在运算符号之间加空格</span>
</span></span><span class=line><span class=cl><span class=n>This</span> <span class=n>year</span> <span class=n>is</span> <span class=mi>2023</span>
</span></span></code></pre></div></section><footer class=article-footer><section class=article-tags><a href=/tags/ubuntu/>Ubuntu</a>
<a href=/tags/%E5%91%BD%E4%BB%A4%E8%A1%8C/>命令行</a></section><section class=article-copyright><svg class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg>
<span>Licensed under CC BY-NC-SA 4.0</span></section></footer></article><aside class=related-content--wrapper><h2 class=section-title>相关文章</h2><div class=related-content><div class="flex article-list--tile"><article><a href=/p/linux-fun-stuff/><div class=article-details><h2 class=article-title>linux fun stuff</h2></div></a></article><article><a href=/p/corntab%E8%AE%A1%E5%88%92%E4%BB%BB%E5%8A%A1/><div class=article-details><h2 class=article-title>corntab计划任务</h2></div></a></article><article><a href=/p/proxychains-%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B/><div class=article-details><h2 class=article-title>proxychains 使用教程</h2></div></a></article><article><a href=/p/shell/><div class=article-details><h2 class=article-title>shell</h2></div></a></article><article><a href=/p/ubuntu%E4%B8%8A%E5%AE%89%E8%A3%85java/><div class=article-details><h2 class=article-title>ubuntu上安装java</h2></div></a></article></div></div></aside><script src=https://utteranc.es/client.js repo=cornradio/blog-comments issue-term=pathname crossorigin=anonymous async></script><style>.utterances{max-width:unset}</style><script>let utterancesLoaded=!1;function setUtterancesTheme(e){let t=document.querySelector(".utterances iframe");t&&t.contentWindow.postMessage({type:"set-theme",theme:`github-${e}`},"https://utteranc.es")}addEventListener("message",e=>{if(e.origin!=="https://utteranc.es")return;utterancesLoaded=!0,setUtterancesTheme(document.documentElement.dataset.scheme)}),window.addEventListener("onColorSchemeChange",e=>{if(!utterancesLoaded)return;setUtterancesTheme(e.detail)})</script><footer class=site-footer><section class=copyright>&copy;
1998 -
2026</section><section class=powerby>爱分享<br>使用 <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a> 构建<br>主题 <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.33.0>Stack</a></b> 由 <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a> 设计</section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.c922af694cc257bf1ecc41c0dd7b0430f9114ec280ccf67cd2c6ad55f5316c4e.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>