<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Regex on</title><link>https://b.cornradio.org/tags/regex/</link><description>Recent content in Regex on</description><generator>Hugo -- gohugo.io</generator><language>zh-cn</language><lastBuildDate>Fri, 06 Jan 2023 16:10:14 +0800</lastBuildDate><atom:link href="https://b.cornradio.org/tags/regex/index.xml" rel="self" type="application/rss+xml"/><item><title>Regex 101</title><link>https://b.cornradio.org/p/regex-101/</link><pubDate>Fri, 06 Jan 2023 16:10:14 +0800</pubDate><guid>https://b.cornradio.org/p/regex-101/</guid><description>&lt;p&gt;最近工作终于闲了下来，可以上班研究代码。遇到一些需要正则表达式的编程问题，无法解决所以决定个学一下。&lt;/p&gt;
&lt;p&gt;&lt;a class="link" href="https://regexlearn.com/zh-cn/learn/regex101" target="_blank" rel="noopener"
&gt;Regex 101 - ZH-CN (regexlearn.com)&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a class="link" href="https://regexlearn.com/zh-cn/playground" target="_blank" rel="noopener"
&gt;Regex Learn - 练习场&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a class="link" href="https://regexlearn.com/zh-cn/cheatsheet" target="_blank" rel="noopener"
&gt;Regex Learn - cheatsheet&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a class="link" href="https://regexone.com/lesson/capturing_groups?" target="_blank" rel="noopener"
&gt;练习题&lt;/a&gt;&lt;/p&gt;
&lt;h2 id="简单"&gt;简单
&lt;/h2&gt;&lt;p&gt;匹配单词&lt;/p&gt;
&lt;p&gt;he is in &lt;code&gt;black&lt;/code&gt;.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;black
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code&gt;.&lt;/code&gt; 允许匹配任何字符，包括特殊字符和空格&lt;/p&gt;
&lt;p&gt;&lt;code&gt;A&lt;/code&gt; &lt;code&gt;B&lt;/code&gt; &lt;code&gt;C&lt;/code&gt; &lt;code&gt;D&lt;/code&gt; &lt;code&gt;E&lt;/code&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;.
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;肯定字符集 &lt;code&gt;[abc]&lt;/code&gt; 匹配字母可以用&lt;code&gt;[a-z]&lt;/code&gt; 匹配数字可以用&lt;code&gt;[0-9]&lt;/code&gt; 或者 &lt;code&gt;\d&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;bar&lt;/code&gt; &lt;code&gt;ber&lt;/code&gt; &lt;code&gt;bir&lt;/code&gt; &lt;code&gt;bor&lt;/code&gt; &lt;code&gt;bur&lt;/code&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;b[aeiou]r
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;否定字符集&lt;code&gt;[^abc]&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;bar&lt;/code&gt; ber bir &lt;code&gt;bor&lt;/code&gt; &lt;code&gt;bur&lt;/code&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;b[^ei]r
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;字母范围&lt;code&gt;[a-z]&lt;/code&gt;&lt;/p&gt;
&lt;h2 id="重复--"&gt;重复&lt;code&gt;? + *&lt;/code&gt;
&lt;/h2&gt;&lt;p&gt;&lt;code&gt;?&lt;/code&gt; 加在字母后代表出现0次或1次&lt;/p&gt;
&lt;p&gt;&lt;code&gt;color&lt;/code&gt;, &lt;code&gt;colour&lt;/code&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;colou?r
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code&gt;+&lt;/code&gt; 加在字母后代表出现1次或多次&lt;/p&gt;
&lt;p&gt;br &lt;code&gt;ber&lt;/code&gt; &lt;code&gt;beer&lt;/code&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;be+r
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt; &lt;code&gt;*&lt;/code&gt; 加在字母后代表出现0次或多次&lt;/p&gt;
&lt;p&gt;&lt;code&gt;br&lt;/code&gt; &lt;code&gt;ber&lt;/code&gt; &lt;code&gt;beer&lt;/code&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;be*r
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id="大括号"&gt;大括号
&lt;/h2&gt;&lt;p&gt;&lt;code&gt;{x}&lt;/code&gt;加在字母后代表出现x次&lt;/p&gt;
&lt;p&gt;ber &lt;code&gt;beer&lt;/code&gt; beeer beeeer&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;be{2}r
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code&gt;{n, }&lt;/code&gt;加在字母后代表出现n到正无穷次，类似集合，&lt;code&gt;[n，∞）&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;ber beer &lt;code&gt;beeer&lt;/code&gt; &lt;code&gt;beeeer&lt;/code&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;be{3,}r
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id="分组"&gt;分组&lt;code&gt;()&lt;/code&gt;
&lt;/h2&gt;&lt;p&gt;分组可以只抓取匹配到的字符中的一部分。（通常也可以全都获取到再replace）&lt;/p&gt;
&lt;p&gt;&lt;code&gt;file_record_transcript&lt;/code&gt;.pdf&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;(.*).pdf$
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;在python种可以这样使用&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-python" data-lang="python"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;re&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;txt&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;The rain in Spain.pdf&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;re&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="k"&gt;match&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;(^The.*).(pdf)$&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;txt&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;group&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt; &lt;span class="c1"&gt;#The rain in Spain &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;group&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt; &lt;span class="c1"&gt;#pdf&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;
&lt;p&gt;&lt;code&gt;()&lt;/code&gt; 分组可以把上面的重复符号给组用。而不只是一个字母。&lt;/p&gt;
&lt;p&gt;&lt;code&gt;\1&lt;/code&gt;,&lt;code&gt;\2&lt;/code&gt; 分组引用，可以把组像变量一样引用。第一组就是&lt;code&gt;\1&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;ha-ha,haa-haa&lt;/code&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;(ha)-\1,(haa)-\2
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;像当于是：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;(ha)-(ha),(haa)-(haa)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code&gt;(?: )&lt;/code&gt;: 非捕获分组 (不能被引用)&lt;/p&gt;
&lt;p&gt;&lt;code&gt;ha-ha,haa-haa&lt;/code&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;(?:ha)-ha,(haa)-/1
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id="转义字符"&gt;转义字符 \
&lt;/h2&gt;&lt;p&gt;&lt;code&gt;{ } [ ] / \ + * . $^ | ?&lt;/code&gt; 如果要这些特殊字符，需要在前面加上反斜杠匹配&lt;/p&gt;
&lt;h2 id="匹配开头"&gt;匹配开头 &lt;code&gt;^&lt;/code&gt;
&lt;/h2&gt;&lt;p&gt;&lt;code&gt;1&lt;/code&gt;. 3 eggs, beaten&lt;/p&gt;
&lt;p&gt;&lt;code&gt;2&lt;/code&gt;. 1 tsp sunflower oil&lt;/p&gt;
&lt;p&gt;&lt;code&gt;3&lt;/code&gt;. 1 tsp butter&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;^[0-9]
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id="匹配尾巴-"&gt;匹配尾巴 &lt;code&gt;$&lt;/code&gt; 
&lt;/h2&gt;&lt;p&gt;html.html.html-da-sdf&lt;code&gt;html&lt;/code&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;html$
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id="匹配字符-w"&gt;匹配字符 &lt;code&gt;\w&lt;/code&gt;
&lt;/h2&gt;&lt;p&gt;字母、数字和下划线 &lt;code&gt;\w&lt;/code&gt;，其他各种不在这范围内的 &lt;code&gt;\W&lt;/code&gt; (匹配中文和中文标点可以使用&lt;code&gt;\W&lt;/code&gt;)&lt;/p&gt;
&lt;p&gt;数字&lt;code&gt;\d&lt;/code&gt;,非数字&lt;code&gt;\D&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;空白符&lt;code&gt;\s&lt;/code&gt;,非空白&lt;code&gt;\S&lt;/code&gt;&lt;/p&gt;
&lt;h2 id="lookarounds"&gt;Lookarounds
&lt;/h2&gt;&lt;p&gt;官方中文翻译：零宽断言，我觉得这个翻译真的是误导人，“断言”：极其肯定地说，断言你妈，还零宽，就不说人话是吧。
应该叫：附近匹配/左右匹配。&lt;/p&gt;
&lt;p&gt;其实我觉得如果后缀前缀不变的话，可以吧这段比如&lt;code&gt;3PM&lt;/code&gt;一起给match出来，然后再replace &lt;code&gt;PM&lt;/code&gt; 就可以了，比这个奇怪的语法看起来要好一些。&lt;/p&gt;
&lt;p&gt;看看后面(指定尾缀)&lt;/p&gt;
&lt;p&gt;Date: 4 Aug &lt;code&gt;3&lt;/code&gt;PM&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;\d+(?=PM)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;后面不要！(指定不要的尾缀)&lt;/p&gt;
&lt;p&gt;Date: &lt;code&gt;4&lt;/code&gt; Aug 3PM&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;\d+(?!PM)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;看看前面&lt;/p&gt;
&lt;p&gt;Product Code: 1064 Price: $&lt;code&gt;5&lt;/code&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;(?&amp;lt;=\$)\d+
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;前面不要！&lt;/p&gt;
&lt;p&gt;Product Code: &lt;code&gt;1064&lt;/code&gt; Price: $5&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;(?&amp;lt;!\$)\d+
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id="全局标志gmi"&gt;全局标志&lt;code&gt;/gmi&lt;/code&gt;
&lt;/h2&gt;&lt;p&gt;g - 获取全部，不加上只获取第一个&lt;/p&gt;
&lt;p&gt;m - 多行，如果不开启则全部文本视作一行，对于有匹配文本末端&lt;code&gt;$&lt;/code&gt;的有影响&lt;/p&gt;
&lt;p&gt;i - 大小写不在意，不加上则大小写敏感&lt;/p&gt;
&lt;h2 id="贪婪匹配"&gt;贪婪匹配
&lt;/h2&gt;&lt;p&gt;正则表达式默认执行贪婪匹配，能要长的就不要短的&lt;/p&gt;
&lt;p&gt;&lt;code&gt;ber beer beeer beeeer&lt;/code&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;.*r
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;懒惰匹配&lt;code&gt;?&lt;/code&gt; 还记得吗，&lt;code&gt;?&lt;/code&gt;代表出现0次或1次&lt;/p&gt;
&lt;p&gt;&lt;code&gt;ber&lt;/code&gt; beer beeer beeeer&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;.*?r
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description></item></channel></rss>